local Players = game:GetService("Players")
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- GUI elements
local gui = script.Parent
local button = gui:FindFirstChild("HoldButton")
local ageLabel = gui:FindFirstChild("AgeLabel")
local loadingFrame = gui:FindFirstChild("LoadingFrame")
local percentText = loadingFrame and loadingFrame:FindFirstChild("Percent")

-- Settings
local holding = false
local maxAge = 50
local currentAge = 0
local waitTimePerAge = 6 -- 5 minutes total = 50 * 6 seconds

-- UI Setup
loadingFrame.Visible = false
ageLabel.Text = ""

local function getHeldPet()
	local pet = character:FindFirstChild("Pet") -- change if needed
	if pet and pet:FindFirstChild("Holding") and pet.Holding.Value == true then
		return pet
	end
	return nil
end

local function setAge(age)
	ageLabel.Text = "Age: " .. age
end

local function agePet()
	while holding and currentAge < maxAge do
		local heldPet = getHeldPet()
		if not heldPet then
			ageLabel.Text = "❌ No Pet Held"
			break
		end

		currentAge += 1
		setAge(currentAge)
		wait(waitTimePerAge)
	end

	if currentAge >= maxAge then
		loadingFrame.Visible = true
		for i = 0, 100 do
			percentText.Text = i .. "%"
			wait(0.03)
		end
		percentText.Text = "✅ Done 100%"
	end
end

-- Button Events
button.MouseButton1Down:Connect(function()
	local heldPet = getHeldPet()
	if heldPet and currentAge < maxAge then
		holding = true
		agePet()
	end
end)

button.MouseButton1Up:Connect(function()
	holding = false
end)
