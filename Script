local player = game.Players.LocalPlayer
local gui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
gui.Name = "PetAgeGui"

-- Create the button
local button = Instance.new("TextButton")
button.Size = UDim2.new(0, 140, 0, 40)
button.Position = UDim2.new(1, -150, 0.5, -20) -- Middle right side
button.Text = "Age to 50"
button.BackgroundColor3 = Color3.new(0.2, 0.6, 0.2)
button.TextColor3 = Color3.new(1, 1, 1)
button.Font = Enum.Font.SourceSansBold
button.TextScaled = true
button.Parent = gui

-- Create the loading frame
local loadingFrame = Instance.new("Frame")
loadingFrame.Size = UDim2.new(0.4, 0, 0.1, 0)
loadingFrame.Position = UDim2.new(0.3, 0, 0.8, 0)
loadingFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
loadingFrame.Visible = false
loadingFrame.Parent = gui

local loadingBar = Instance.new("Frame")
loadingBar.Size = UDim2.new(0, 0, 1, 0)
loadingBar.Position = UDim2.new(0, 0, 0, 0)
loadingBar.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
loadingBar.Parent = loadingFrame

local percentageLabel = Instance.new("TextLabel")
percentageLabel.Size = UDim2.new(1, 0, 1, 0)
percentageLabel.Position = UDim2.new(0, 0, 0, 0)
percentageLabel.BackgroundTransparency = 1
percentageLabel.TextColor3 = Color3.new(1, 1, 1)
percentageLabel.Font = Enum.Font.SourceSansBold
percentageLabel.TextScaled = true
percentageLabel.Text = "0%"
percentageLabel.Parent = loadingFrame

-- Button functionality
local debounce = false

button.MouseButton1Click:Connect(function()
	if debounce then return end
	debounce = true
	
	local character = player.Character or player.CharacterAdded:Wait()
	local heldPet = character:FindFirstChild("HeldPet")
	
	if not heldPet or not heldPet:IsA("Model") then
		warn("No pet held.")
		debounce = false
		return
	end
	
	local ageValue = heldPet:FindFirstChild("Age")
	if not ageValue or not ageValue:IsA("NumberValue") then
		warn("Pet has no Age value.")
		debounce = false
		return
	end
	
	local currentAge = ageValue.Value
	if currentAge >= 50 then
		warn("Already age 50 or higher.")
		debounce = false
		return
	end
	
	loadingFrame.Visible = true
	loadingBar.Size = UDim2.new(0, 0, 1, 0)
	percentageLabel.Text = "0%"
	
	local targetAge = 50
	local totalToAdd = targetAge - currentAge
	local totalTime = 300 -- 5 minutes in seconds
	local interval = totalTime / totalToAdd
	
	for i = 1, totalToAdd do
		task.wait(interval)
		ageValue.Value += 1
		
		local progress = (i / totalToAdd)
		loadingBar.Size = UDim2.new(progress, 0, 1, 0)
		percentageLabel.Text = math.floor(progress * 100) .. "%"
	end
	
	loadingFrame.Visible = false
	debounce = false
end)
