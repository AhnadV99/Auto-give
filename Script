-- üå± Grow a Garden v1566 - Universal Pet Gift Stealer (Auto-Remote Detection)
-- ‚ö†Ô∏è For educational purposes only

-- SERVICES
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer

-- GUI
local screenGui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
screenGui.Name = "StealPetGUI"

local frame = Instance.new("Frame", screenGui)
frame.Size = UDim2.new(0, 280, 0, 180)
frame.Position = UDim2.new(0.5, -140, 0.2, 0)
frame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
frame.BorderSizePixel = 0

local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1, 0, 0.2, 0)
title.Text = "üéÅ Auto Gift Stealer"
title.TextColor3 = Color3.new(1, 1, 1)
title.BackgroundTransparency = 1
title.Font = Enum.Font.GothamBold
title.TextScaled = true

-- Username input
local usernameBox = Instance.new("TextBox", frame)
usernameBox.Size = UDim2.new(0.9, 0, 0.2, 0)
usernameBox.Position = UDim2.new(0.05, 0, 0.25, 0)
usernameBox.PlaceholderText = "Enter target username"
usernameBox.Text = ""
usernameBox.TextScaled = true
usernameBox.Font = Enum.Font.Gotham

-- Pet input
local petBox = Instance.new("TextBox", frame)
petBox.Size = UDim2.new(0.9, 0, 0.2, 0)
petBox.Position = UDim2.new(0.05, 0, 0.48, 0)
petBox.PlaceholderText = "Enter pet name (e.g. Blood Owl)"
petBox.Text = ""
petBox.TextScaled = true
petBox.Font = Enum.Font.Gotham

-- Button
local stealButton = Instance.new("TextButton", frame)
stealButton.Size = UDim2.new(0.9, 0, 0.18, 0)
stealButton.Position = UDim2.new(0.05, 0, 0.7, 0)
stealButton.Text = "üéØ Attempt Steal Gift"
stealButton.BackgroundColor3 = Color3.fromRGB(90, 140, 255)
stealButton.TextColor3 = Color3.new(1, 1, 1)
stealButton.TextScaled = true
stealButton.Font = Enum.Font.GothamBold

-- Output
local output = Instance.new("TextLabel", frame)
output.Size = UDim2.new(0.9, 0, 0.1, 0)
output.Position = UDim2.new(0.05, 0, 0.9, 0)
output.Text = ""
output.TextColor3 = Color3.fromRGB(255, 80, 80)
output.BackgroundTransparency = 1
output.TextScaled = true
output.Font = Enum.Font.Gotham

-- ATTEMPT GIFT WITH REMOTE
local function tryGiftWithRemote(remote, petName, fromPlayer)
	local success, err = pcall(function()
		remote:FireServer(petName, fromPlayer)
	end)
	return success, err
end

-- AUTO-SEARCH REMOTE FUNCTION
local function findWorkingGiftRemote(petName)
	for _, obj in pairs(ReplicatedStorage:GetDescendants()) do
		if obj:IsA("RemoteEvent") then
			local success = pcall(function()
				obj:FireServer(petName, LocalPlayer)
			end)
			if success then
				return obj
			end
		end
	end
	return nil
end

-- MAIN BUTTON FUNCTION
stealButton.MouseButton1Click:Connect(function()
	local targetName = usernameBox.Text
	local petName = petBox.Text

	if targetName == "" or petName == "" then
		output.Text = "‚ö†Ô∏è Fill both fields!"
		return
	end

	local targetPlayer = Players:FindFirstChild(targetName)
	if not targetPlayer or not targetPlayer.Character then
		output.Text = "‚ùå Player not found!"
		return
	end

	-- Teleport them to you
	local myHRP = LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
	local theirHRP = targetPlayer.Character:FindFirstChild("HumanoidRootPart")
	if myHRP and theirHRP then
		theirHRP.CFrame = myHRP.CFrame + Vector3.new(3, 0, 0)
	end

	output.Text = "üîç Searching for gift remote..."

	local foundRemote = findWorkingGiftRemote(petName)
	if not foundRemote then
		output.Text = "üö´ Could not find working gift remote."
		return
	end
        local giftRemote = game.ReplicatedStorage:FindFirstChild("GiftPetRemote")

	output.Text = "üéÅ Using remote: " .. foundRemote.Name

	local success, err = tryGiftWithRemote(foundRemote, petName, LocalPlayer)
	if success then
		output.Text = "‚úÖ Gift attempt: " .. petName
	else
		output.Text = "‚ùå Failed: " .. tostring(err)
	end
end)
