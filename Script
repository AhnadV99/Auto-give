--// Pet Auto Age & ESP (Grow a Garden v1566) by Zeetuan

-- Services
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local CoreGui = game:GetService("CoreGui")
local StarterGui = game:GetService("StarterGui")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- GUI Setup
local screenGui = Instance.new("ScreenGui", CoreGui)
screenGui.Name = "PetAgeGUI"

local btn = Instance.new("TextButton", screenGui)
btn.Size = UDim2.new(0, 140, 0, 50)
btn.Position = UDim2.new(1, -160, 0.5, -25) -- Middle-right
btn.AnchorPoint = Vector2.new(0.5, 0.5)
btn.Text = "Age My Pet"
btn.BackgroundColor3 = Color3.fromRGB(34, 34, 34)
btn.TextColor3 = Color3.fromRGB(255, 255, 255)
btn.Font = Enum.Font.GothamBold
btn.TextSize = 18
btn.BorderSizePixel = 0
btn.BackgroundTransparency = 0.2

-- ESP Drawing
local billboard = Instance.new("BillboardGui")
billboard.Size = UDim2.new(0, 200, 0, 50)
billboard.StudsOffset = Vector3.new(0, 3, 0)
billboard.AlwaysOnTop = true

local label = Instance.new("TextLabel", billboard)
label.Size = UDim2.new(1, 0, 1, 0)
label.BackgroundTransparency = 1
label.TextColor3 = Color3.fromRGB(255, 255, 255)
label.TextStrokeTransparency = 0.5
label.Font = Enum.Font.Gotham
label.TextScaled = true
label.Text = "No pet held"

-- Functions
local function getHeldPet()
    local backpack = player.Backpack
    for _, item in pairs(backpack:GetChildren()) do
        if item:IsA("Tool") and item:FindFirstChild("PetData") then
            return item
        end
    end
    -- Also check equipped pet (held in hand)
    local tool = character:FindFirstChildOfClass("Tool")
    if tool and tool:FindFirstChild("PetData") then
        return tool
    end
    return nil
end

local function updateESP()
    local petTool = getHeldPet()
    if petTool then
        local data = petTool:FindFirstChild("PetData")
        local name = data:FindFirstChild("PetName") and data.PetName.Value or "Unknown"
        local weight = data:FindFirstChild("Weight") and data.Weight.Value or "?"
        local age = data:FindFirstChild("Age") and data.Age.Value or "?"

        label.Text = string.format("%s\n[%.2f kg]\n[Age %s]", name, tonumber(weight), age)
        if not billboard.Parent or billboard.Parent ~= petTool.Handle then
            billboard.Parent = petTool:FindFirstChild("Handle") or petTool
        end
    else
        label.Text = "No pet held"
        billboard.Parent = nil
    end
end

local function increaseAge()
    local petTool = getHeldPet()
    if petTool then
        local ageVal = petTool:FindFirstChild("PetData"):FindFirstChild("Age")
        if ageVal and ageVal:IsA("NumberValue") then
            ageVal.Value = ageVal.Value + 1
            updateESP()
        end
    end
end

-- Bind button
btn.MouseButton1Click:Connect(function()
    increaseAge()
end)

-- Constant update
RunService.RenderStepped:Connect(function()
    updateESP()
end)

-- Notifications
StarterGui:SetCore("SendNotification", {
    Title = "Pet Aging Loaded üêæ",
    Text = "Touch the button to age your pet. Holding not needed!",
    Duration = 5
})
