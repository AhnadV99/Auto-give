-- üß† LocalScript (place this inside StarterGui)

-- SERVICES
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")

-- PLAYER
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- GUI SETUP
local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
screenGui.Name = "PetAgeGUI"
screenGui.ResetOnSpawn = false

-- BUTTON
local ageButton = Instance.new("TextButton")
ageButton.Parent = screenGui
ageButton.Size = UDim2.new(0, 140, 0, 50)
ageButton.Position = UDim2.new(1, -160, 0.5, -25) -- Right-middle
ageButton.AnchorPoint = Vector2.new(0.5, 0.5)
ageButton.Text = "üïí Age Pet"
ageButton.TextScaled = true
ageButton.BackgroundColor3 = Color3.fromRGB(60, 200, 80)
ageButton.TextColor3 = Color3.new(1,1,1)
ageButton.BorderSizePixel = 0
ageButton.ZIndex = 10
ageButton.Visible = true

-- STATUS LABEL
local statusLabel = Instance.new("TextLabel")
statusLabel.Parent = screenGui
statusLabel.Size = UDim2.new(0, 250, 0, 40)
statusLabel.Position = UDim2.new(1, -160, 0.5, 35)
statusLabel.AnchorPoint = Vector2.new(0.5, 0)
statusLabel.Text = "Waiting..."
statusLabel.TextScaled = true
statusLabel.BackgroundTransparency = 1
statusLabel.TextColor3 = Color3.new(1,1,1)

-- FIND PET FUNCTION
local function getHeldPet()
    local backpack = player:FindFirstChild("Backpack")
    local char = player.Character
    local pet = nil

    if char then
        for _, obj in ipairs(char:GetChildren()) do
            if obj:IsA("Model") and obj:FindFirstChild("NameTag") and obj:FindFirstChild("Age") then
                return obj
            end
        end
    end

    if backpack then
        for _, obj in ipairs(backpack:GetChildren()) do
            if obj:IsA("Tool") and obj:FindFirstChild("Handle") then
                return obj
            end
        end
    end

    return pet
end

-- AGE LOOP
local aging = false
local function startAging()
    if aging then return end
    aging = true

    while aging do
        local pet = getHeldPet()
        if pet then
            local ageValue = pet:FindFirstChild("Age")
            if ageValue and ageValue:IsA("NumberValue") then
                ageValue.Value = ageValue.Value + 1
                statusLabel.Text = pet.Name .. " [Age: " .. ageValue.Value .. "] ‚úÖ"
            else
                statusLabel.Text = "‚ö†Ô∏è Pet found but no age property."
            end
        else
            statusLabel.Text = "‚ùå No pet held!"
        end
        wait(1)
    end
end

-- STOP AGING (optional if needed)
local function stopAging()
    aging = false
    statusLabel.Text = "‚èπÔ∏è Stopped aging."
end

-- BUTTON CLICK
ageButton.MouseButton1Click:Connect(function()
    if not aging then
        statusLabel.Text = "‚è≥ Aging started..."
        startAging()
    else
        stopAging()
    end
end)

-- ESP (Optional Visual Aid)
local function showESP(pet)
    local billboard = pet:FindFirstChild("ESP") or Instance.new("BillboardGui", pet)
    billboard.Name = "ESP"
    billboard.Size = UDim2.new(0, 100, 0, 50)
    billboard.AlwaysOnTop = true
    billboard.StudsOffset = Vector3.new(0, 3, 0)

    local label = billboard:FindFirstChild("Text") or Instance.new("TextLabel", billboard)
    label.Name = "Text"
    label.Size = UDim2.new(1, 0, 1, 0)
    label.BackgroundTransparency = 1
    label.TextScaled = true
    label.TextColor3 = Color3.new(1,1,0)

    RunService.RenderStepped:Connect(function()
        if pet and pet:FindFirstChild("Age") then
            label.Text = pet.Name .. "\nAge: " .. pet.Age.Value
        else
            label.Text = "No Age Info"
        end
    end)
end

-- Show ESP on Pet
RunService.Heartbeat:Connect(function()
    local heldPet = getHeldPet()
    if heldPet and not heldPet:FindFirstChild("ESP") then
        showESP(heldPet)
    end
end)
