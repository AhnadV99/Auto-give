-- âœ… Grow a Garden | Auto Collect + Auto Give (Full Final Script by Zeetuan)

-- Fruits allowed in Summer Harvest
local fruitNames = {
    "Tomato",
    "Green Apple",
    "Avocado",
    "Sugar Apple",
    "Prickly Pear",
    "Loquat",
    "Cauliflower",
    "Feijoa",
    "Bell Pepper",
    "Kiwi"
}

local player = game.Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()
local hrp = char:WaitForChild("HumanoidRootPart")
local autoCollect = false
local autoGive = false

-- UI
local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
ScreenGui.Name = "Z_AutoFarm_GUI"

local button = Instance.new("ImageButton")
button.Name = "MainToggle"
button.Size = UDim2.new(0, 50, 0, 50)
button.Position = UDim2.new(0, 10, 0, 100)
button.BackgroundTransparency = 1
button.Image = "rbxassetid://3570695787"
button.Parent = ScreenGui

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 160, 0, 100)
frame.Position = UDim2.new(0, 70, 0, 90)
frame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
frame.BorderSizePixel = 0
frame.Visible = false
frame.Parent = ScreenGui

local collectToggle = Instance.new("TextButton")
collectToggle.Size = UDim2.new(1, 0, 0.5, 0)
collectToggle.Position = UDim2.new(0, 0, 0, 0)
collectToggle.Text = "Auto Collect: ON"
collectToggle.TextColor3 = Color3.new(1,1,1)
collectToggle.BackgroundColor3 = Color3.fromRGB(60, 180, 100)
collectToggle.Parent = frame

local giveToggle = Instance.new("TextButton")
giveToggle.Size = UDim2.new(1, 0, 0.5, 0)
giveToggle.Position = UDim2.new(0, 0, 0.5, 0)
giveToggle.Text = "Auto Give: ON"
giveToggle.TextColor3 = Color3.new(1,1,1)
giveToggle.BackgroundColor3 = Color3.fromRGB(100, 160, 255)
giveToggle.Parent = frame

collectToggle.MouseButton1Click:Connect(function()
	autoCollect = not autoCollect
	collectToggle.Text = "Auto Collect: " .. (autoCollect and "ON" or "OFF")
end)

giveToggle.MouseButton1Click:Connect(function()
	autoGive = not autoGive
	giveToggle.Text = "Auto Give: " .. (autoGive and "ON" or "OFF")
end)

button.MouseButton1Click:Connect(function()
	frame.Visible = not frame.Visible
end)

-- Match exactly
local function isTargetFruit(name)
	for _, keyword in ipairs(fruitNames) do
		if name == keyword then return true end
	end
	return false
end

-- ProximityPrompt Auto Collect + Give
task.spawn(function()
	while true do
		task.wait(0.4)
		if not autoCollect and not autoGive then continue end

		for _, obj in pairs(workspace:GetDescendants()) do
			if obj:IsA("ProximityPrompt") and obj.Parent and obj.Parent:IsA("BasePart") then
				local fruitName = obj.Parent.Name
				if isTargetFruit(fruitName) then
					pcall(function()
						if autoCollect or autoGive then
							fireproximityprompt(obj)
						end
					end)
				end
			end
		end
	end
end)
