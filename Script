local Players = game:GetService("Players")
local player = Players.LocalPlayer
local petHolder = player:WaitForChild("Backpack")
local UIS = game:GetService("UserInputService")
local runService = game:GetService("RunService")

-- UI Setup
local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
screenGui.Name = "PetAgeGUI"

local button = Instance.new("TextButton")
button.Parent = screenGui
button.Text = "Age to 50"
button.Size = UDim2.new(0, 120, 0, 40)
button.Position = UDim2.new(1, -130, 0.5, -20) -- middle right
button.AnchorPoint = Vector2.new(0, 0)
button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
button.TextColor3 = Color3.fromRGB(255, 255, 255)
button.Font = Enum.Font.SourceSansBold
button.TextSize = 16

local percentLabel = Instance.new("TextLabel")
percentLabel.Parent = screenGui
percentLabel.Size = UDim2.new(0, 120, 0, 20)
percentLabel.Position = UDim2.new(1, -130, 0.5, 30)
percentLabel.Text = ""
percentLabel.BackgroundTransparency = 1
percentLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
percentLabel.Font = Enum.Font.SourceSans
percentLabel.TextSize = 14

-- Helper function to get held pet
local function getHeldPet()
	for _, tool in ipairs(player.Character:GetChildren()) do
		if tool:IsA("Tool") and tool:FindFirstChild("Handle") and tool:FindFirstChild("Age") then
			return tool
		end
	end
	return nil
end

-- Button Click
local isAging = false
button.MouseButton1Click:Connect(function()
	if isAging then return end
	
	local pet = getHeldPet()
	if not pet then
		percentLabel.Text = "No pet held!"
		wait(2)
		percentLabel.Text = ""
		return
	end
	
	local ageValue = pet:FindFirstChild("Age")
	if not ageValue or not ageValue:IsA("NumberValue") then
		percentLabel.Text = "No age value found!"
		wait(2)
		percentLabel.Text = ""
		return
	end
	
	local currentAge = ageValue.Value
	if currentAge >= 50 then
		percentLabel.Text = "Already age 50+"
		wait(2)
		percentLabel.Text = ""
		return
	end

	isAging = true
	button.Text = "Aging..."
	
	local startAge = ageValue.Value
	local endAge = 50
	local totalToAdd = endAge - startAge
	local totalTime = 300 -- 5 minutes in seconds
	local timePerAge = totalTime / totalToAdd
	
	for i = 1, totalToAdd do
		if not isAging then break end
		ageValue.Value = ageValue.Value + 1
		local progress = ((ageValue.Value - startAge) / totalToAdd) * 100
		percentLabel.Text = string.format("%.0f%%", progress)
		wait(timePerAge)
	end
	
	button.Text = "Age to 50"
	percentLabel.Text = "100%"
	wait(2)
	percentLabel.Text = ""
	isAging = false
end)
